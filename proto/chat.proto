syntax="proto3";
package chat;

service Chat { 
    rpc RequestRoom (RoomRequest) returns (Empty);
    rpc RequestFriend (FriendRequest) returns (Empty);
    rpc UserRooms (User) returns (UserRoomResponse);
    rpc SendMessage(ChatMessage) returns (Empty);
}

message Empty{}

message EnterRoom {
    string userId = 1;
    string roomId = 2;
    string username = 3;  
}

message FriendRequest {
    string senderUserId = 1;
    string receiverUserId = 2;
    string senderUsername = 3; 
    string message = 4; 
}

message User{ 
    string userId = 1;
}

message Room { 
    uint64 roomId = 1;
    string roomName = 2;
}

message UserRoomResponse { 
    repeated Room rooms = 1;
}

message RoomRequest { 
    string userId = 1;
    string roomId = 2;
    string username = 3; 
    string message = 4;
}

message ChatMessage { 
    string userId = 1;
    string roomId = 2;
    string username = 3;
    string message = 4;
    optional string url = 5;
}